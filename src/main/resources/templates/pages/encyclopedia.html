<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/base}"
      lang="id">
<head>
    <title>Pusat Tips Tanaman - Plant Care</title>
</head>
<body>

    <div layout:fragment="content">
        
        <!-- 1. HEADER SECTION -->
        <div class="row mb-5 fade-in">
            <div class="col-12 text-center">
                <span class="badge bg-success bg-opacity-10 text-success rounded-pill px-3 py-2 mb-3 fw-bold ls-1">
                    <i class="fas fa-book-open me-2"></i> ENSIKLOPEDIA
                </span>
                <h1 class="display-5 fw-bold text-dark mb-3">Panduan & Trik Merawat Tanaman</h1>
                <p class="text-muted lead col-lg-8 mx-auto">
                    Kumpulan rahasia praktis untuk menjaga tanamanmu tetap subur, sehat, dan bahagia.
                </p>
            </div>
        </div>

        <!-- 2. GRID KONTEN (Diisi oleh Javascript) -->
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 mb-5 fade-in" id="tipsContainer" style="animation-delay: 0.2s;">
            <!-- Kartu akan digenerate otomatis di sini -->
        </div>

        <!-- 3. QUOTE FOOTER -->
        <div class="row mb-5 fade-in" style="animation-delay: 0.4s;">
            <div class="col-12">
                <div class="card border-0 bg-success text-white rounded-4 shadow overflow-hidden">
                    <div class="card-body p-5 text-center position-relative">
                        <i class="fas fa-seedling position-absolute top-0 start-0 opacity-25" style="font-size: 15rem; transform: translate(-30%, -30%) rotate(20deg);"></i>
                        <blockquote class="blockquote mb-0 position-relative z-1">
                            <p class="fs-4 fst-italic">"Merawat tanaman sama dengan merawat harapan untuk masa depan yang lebih hijau."</p>
                            <footer class="blockquote-footer text-white-50 mt-2">Plant Care Philosophy</footer>
                        </blockquote>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- JAVASCRIPT LOGIC & DATA -->
    <th:block layout:fragment="others-js">
        <script>
            // --- DATABASE TIPS & TRIK ---
            // Menggunakan Lorem Flickr dengan Keyword spesifik agar gambar relevan
            // Format: https://loremflickr.com/600/400/{keyword1},{keyword2}/all
            
            // Tips: Tambahkan timestamp unik (?v=...) agar browser tidak menampilkan gambar yang sama terus menerus
            
            const tipsData = [
                {
                    title: "Teknik Penyiraman",
                    category: "Basic",
                    // Keyword: Watering, Garden
                    image: "https://loremflickr.com/600/400/watering,plants/all?lock=1",
                    desc: "Banyak pemula membunuh tanaman karena overwatering. Kunci utamanya adalah pengecekan tanah.",
                    point: "Cek tanah sedalam 3cm. Siram hanya jika tanah terasa kering.",
                    color: "primary"
                },
                {
                    title: "Pencahayaan Tepat",
                    category: "Basic",
                    // Keyword: Sun, Nature
                    image: "https://loremflickr.com/600/400/sunlight,garden/all?lock=2",
                    desc: "Tidak semua tanaman suka matahari langsung. Pahami 'Direct Sun' vs 'Indirect Light'.",
                    point: "Putar pot seminggu sekali agar tanaman tumbuh lurus rata.",
                    color: "warning"
                },
                {
                    title: "Pemupukan Dasar",
                    category: "Intermediate",
                    // Keyword: Soil, Growth
                    image: "https://loremflickr.com/600/400/soil,seedling/all?lock=3",
                    desc: "Gunakan pupuk NPK seimbang (10-10-10) setiap bulan selama masa pertumbuhan.",
                    point: "Jangan memupuk tanaman yang sedang stress atau kekeringan.",
                    color: "success"
                },
                {
                    title: "Ganti Pot (Repotting)",
                    category: "Intermediate",
                    // Keyword: Pot, Gardening
                    image: "https://loremflickr.com/600/400/flowerpot,garden/all?lock=4",
                    desc: "Akar yang penuh (rootbound) menghambat pertumbuhan. Saatnya pindah rumah baru.",
                    point: "Pilih pot yang hanya 2-3 cm lebih besar dari sebelumnya.",
                    color: "info"
                },
                {
                    title: "Mengatasi Hama",
                    category: "Advanced",
                    // Keyword: Leaf, Green (Cari gambar daun close up)
                    image: "https://loremflickr.com/600/400/leaf,macro/all?lock=5",
                    desc: "Kutu putih adalah musuh. Semprotkan campuran air sabun cuci piring tipis atau minyak neem.",
                    point: "Isolasi tanaman sakit agar tidak menular ke yang lain.",
                    color: "danger"
                },
                {
                    title: "Membersihkan Daun",
                    category: "Basic",
                    // Keyword: Monstera, Indoor
                    image: "https://loremflickr.com/600/400/monstera,indoor/all?lock=6",
                    desc: "Debu menghambat fotosintesis. Lap daun dengan kain basah lembut atau kulit pisang.",
                    point: "Lakukan sebulan sekali untuk tanaman indoor agar mengkilap.",
                    color: "success"
                },
                {
                    title: "Pemangkasan (Pruning)",
                    category: "Intermediate",
                    // Keyword: Garden, Tools
                    image: "https://loremflickr.com/600/400/shears,garden/all?lock=7",
                    desc: "Memotong daun kuning penting agar energi fokus ke tunas baru yang sehat.",
                    point: "Pastikan gunting steril alkohol sebelum memotong.",
                    color: "warning"
                },
                {
                    title: "Kelembaban Udara",
                    category: "Advanced",
                    // Keyword: Water, Mist
                    image: "https://loremflickr.com/600/400/rain,leaf/all?lock=8",
                    desc: "Tanaman tropis suka lembab. AC ruangan seringkali membuat mereka kering.",
                    point: "Gunakan nampan kerikil berair di bawah pot.",
                    color: "info"
                },
                {
                    title: "Media Tanam Poros",
                    category: "Basic",
                    // Keyword: Dirt, Earth
                    image: "https://loremflickr.com/600/400/dirt,garden/all?lock=9",
                    desc: "Tanah padat membunuh akar. Campurkan sekam bakar atau perlite agar air lancar.",
                    point: "Air harus meresap habis dalam waktu kurang dari 10 detik.",
                    color: "secondary"
                }
            ];

            // --- RENDER FUNCTION ---
            document.addEventListener('DOMContentLoaded', function() {
                const container = document.getElementById('tipsContainer');
                
                let htmlContent = '';
                
                tipsData.forEach(tip => {
                    // Fallback visual tetap disiapkan (Jaga-jaga)
                    const safeTitle = encodeURIComponent(tip.title);
                    const fallbackImage = `https://placehold.co/600x400/e2e8f0/1e293b?text=${safeTitle}`;

                    htmlContent += `
                        <div class="col">
                            <div class="card h-100 border-0 shadow-sm rounded-4 tip-card overflow-hidden">
                                <!-- Image Header -->
                                <div class="position-relative">
                                    <img src="${tip.image}" 
                                         class="card-img-top object-fit-cover" 
                                         alt="${tip.title}" 
                                         style="height: 200px;"
                                         onerror="this.onerror=null; this.src='${fallbackImage}';">
                                         
                                    <div class="position-absolute top-0 end-0 m-3">
                                        <span class="badge bg-white text-dark shadow-sm fw-bold px-3 py-2 rounded-pill">
                                            ${tip.category}
                                        </span>
                                    </div>
                                </div>
                                
                                <div class="card-body p-4 d-flex flex-column">
                                    <h5 class="card-title fw-bold mb-3">${tip.title}</h5>
                                    <p class="card-text text-muted small flex-grow-1 mb-4">
                                        ${tip.desc}
                                    </p>
                                    
                                    <div class="bg-${tip.color}-subtle border border-${tip.color} border-opacity-25 rounded-3 p-3 mt-auto">
                                        <div class="d-flex align-items-start">
                                            <i class="fas fa-lightbulb text-${tip.color} mt-1 me-2"></i>
                                            <div>
                                                <small class="fw-bold text-${tip.color} text-uppercase d-block mb-1" style="font-size: 0.7rem; letter-spacing: 1px;">Poin Penting</small>
                                                <small class="text-dark fw-medium lh-sm">${tip.point}</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                container.innerHTML = htmlContent;
            });
        </script>
    </th:block>

    <!-- CSS STYLING -->
    <th:block layout:fragment="others-css">
        <style>
            /* Animasi Fade In */
            .fade-in { animation: fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; opacity: 0; transform: translateY(20px); }
            @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }

            .ls-1 { letter-spacing: 2px; }

            /* Tip Card Styling */
            .tip-card {
                transition: transform 0.3s ease, box-shadow 0.3s ease;
                background: #fff;
            }
            .tip-card:hover {
                transform: translateY(-10px);
                box-shadow: 0 15px 30px rgba(0,0,0,0.1) !important;
            }
            
            /* Background Colors for Badge */
            .bg-primary-subtle { background-color: #cfe2ff; }
            .bg-success-subtle { background-color: #d1e7dd; }
            .bg-warning-subtle { background-color: #fff3cd; }
            .bg-info-subtle { background-color: #cff4fc; }
            .bg-danger-subtle { background-color: #f8d7da; }
            .bg-secondary-subtle { background-color: #e2e3e5; }

            /* Image Fit */
            .object-fit-cover { object-fit: cover; width: 100%; }
        </style>
    </th:block>

</body>
</html>